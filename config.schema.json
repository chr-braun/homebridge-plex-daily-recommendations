{
  "pluginAlias": "PlexDailyRecommendations",
  "pluginType": "platform",
  "singular": true,
  "customUi": false,
  "customUiPath": "",
  "headerDisplay": "Dieses Plugin sendet dir t√§glich HomeKit-Benachrichtigungen √ºber neue Inhalte auf deinem Plex Server.",
  "footerDisplay": "Weitere Informationen findest du im [GitHub Repository](https://github.com/chr-braun/homebridge-plex-daily-recommendations).",
  "schema": {
    "type": "object",
    "properties": {
      "platform": {
        "title": "Platform",
        "type": "string",
        "const": "PlexDailyRecommendations",
        "description": "Platform identifier (do not change)"
      },
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "Plex Daily Recommendations",
        "description": "Name der Platform (erscheint in Homebridge Logs)"
      },
      "plexUrl": {
        "title": "Plex Server URL",
        "type": "string",
        "default": "http://192.168.178.3:32400",
        "description": "URL deines Plex Servers (z.B. http://192.168.1.100:32400)"
      },
      "plexToken": {
        "title": "Plex API Token",
        "type": "string",
        "description": "Dein Plex API Token (siehe: https://support.plex.tv/articles/204059436)"
      },
      "machineId": {
        "title": "Plex Server Machine ID",
        "type": "string",
        "description": "Machine ID deines Plex Servers"
      },
      "notificationTime": {
        "title": "Benachrichtigungszeit",
        "type": "string",
        "default": "20:00",
        "pattern": "^([0-1][0-9]|2[0-3]):[0-5][0-9]$",
        "description": "Uhrzeit f√ºr t√§gliche Benachrichtigung (HH:MM Format, z.B. 20:00)"
      },
      "hoursBack": {
        "title": "Stunden zur√ºckblicken",
        "type": "integer",
        "default": 24,
        "minimum": 1,
        "maximum": 168,
        "description": "Wie viele Stunden zur√ºck nach neuen Inhalten suchen (1-168)"
      },
      "emailEnabled": {
        "title": "E-Mail-Benachrichtigungen aktivieren",
        "type": "boolean",
        "default": false,
        "description": "Sende Benachrichtigungen per E-Mail"
      },
      "emailSmtpHost": {
        "title": "SMTP Server",
        "type": "string",
        "description": "SMTP Server (z.B. smtp.gmail.com)"
      },
      "emailSmtpPort": {
        "title": "SMTP Port",
        "type": "integer",
        "default": 587,
        "description": "SMTP Port (587 f√ºr TLS, 465 f√ºr SSL)"
      },
      "emailSmtpSecure": {
        "title": "SMTP Secure (SSL)",
        "type": "boolean",
        "default": false,
        "description": "Verwende SSL f√ºr SMTP-Verbindung"
      },
      "emailUser": {
        "title": "E-Mail Benutzername",
        "type": "string",
        "description": "E-Mail-Adresse f√ºr SMTP-Authentifizierung"
      },
      "emailPassword": {
        "title": "E-Mail Passwort",
        "type": "string",
        "description": "Passwort oder App-Passwort f√ºr E-Mail"
      },
      "emailFrom": {
        "title": "Absender E-Mail",
        "type": "string",
        "description": "E-Mail-Adresse des Absenders"
      },
      "emailTo": {
        "title": "Empf√§nger E-Mail",
        "type": "string",
        "description": "E-Mail-Adresse des Empf√§ngers"
      },
      "testNotification": {
        "title": "Test-Benachrichtigung",
        "type": "button",
        "description": "Sende eine Test-Benachrichtigung mit aktuellen Plex-Inhalten"
      },
      "testEmail": {
        "title": "Test-E-Mail",
        "type": "button",
        "description": "Sende eine Test-E-Mail-Benachrichtigung"
      }
    },
    "required": ["platform", "name", "plexToken", "machineId"]
  },
  "form": null,
  "layout": [
    {
      "key": "platform",
      "type": "hidden"
    },
    {
      "type": "help",
      "helpvalue": "<h5>üé¨ Plex Daily Recommendations</h5><p>Erhalte t√§glich Benachrichtigungen √ºber neue Filme und Serien auf deinem Plex Server direkt in HomeKit!</p><p><strong>üí° Tipp:</strong> Child Bridge kann in den erweiterten Einstellungen aktiviert werden (Zahnrad-Symbol ‚Üí Bridge Settings).</p>"
    },
    "name",
    {
      "type": "fieldset",
      "title": "Plex Server Verbindung",
      "expandable": true,
      "expanded": true,
      "items": ["plexUrl", "plexToken", "machineId"]
    },
    {
      "type": "fieldset",
      "title": "Benachrichtigungen",
      "expandable": true,
      "expanded": true,
      "items": ["notificationTime", "hoursBack"]
    },
    {
      "type": "fieldset",
      "title": "E-Mail-Benachrichtigungen",
      "expandable": true,
      "expanded": false,
      "items": ["emailEnabled", "emailSmtpHost", "emailSmtpPort", "emailSmtpSecure", "emailUser", "emailPassword", "emailFrom", "emailTo"]
    },
    {
      "type": "help",
      "helpvalue": "<h6>üß™ Test-Benachrichtigungen</h6><p>Um eine Test-Benachrichtigung zu senden, verwende den Switch <strong>\"Test Benachrichtigung\"</strong> in der Home App oder die Buttons unten.</p><p><strong>üí° Tipp:</strong> Der Test-Switch wird automatisch erstellt und ist in der Home App verf√ºgbar.</p>"
    },
    {
      "type": "fieldset",
      "title": "Test-Funktionen",
      "expandable": true,
      "expanded": false,
      "items": ["testNotification", "testEmail"]
    }
  ]
}
